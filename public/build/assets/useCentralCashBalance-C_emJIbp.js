import{r as a}from"./app-L0y9LZbB.js";function h(n=0){const[s,t]=a.useState(n),[o,r]=a.useState(!1),l=e=>{t(e)},c=async()=>{try{r(!0),window.location.reload()}catch(e){console.error("خطأ في جلب الرصيد النقدي المركزي:",e)}finally{r(!1)}return s},d=e=>{t(e),window.dispatchEvent(new CustomEvent("cashBalanceUpdated",{detail:{newBalance:e}}))};return a.useEffect(()=>{const e=i=>{t(i.detail.newBalance)};return window.addEventListener("cashBalanceUpdated",e),()=>{window.removeEventListener("cashBalanceUpdated",e)}},[]),a.useEffect(()=>{n===0&&c()},[]),{centralCashBalance:s,setCentralCashBalance:l,updateBalanceAfterTransaction:d,fetchCurrentCashBalance:c,isUpdating:o}}export{h as u};
