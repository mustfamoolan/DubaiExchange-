import{u,r as n,j as e,L as j}from"./app-CYu0drpl.js";import{A as b}from"./AdminLayout-DrSjh8QS.js";/* empty css            */function v({customer:t,transactions:c}){const{flash:r}=u().props,[a,x]=n.useState(""),[l,o]=n.useState("all"),[d,p]=n.useState("all"),i=c.filter(s=>{const m=s.description?.toLowerCase().includes(a.toLowerCase())||s.transaction_code.toLowerCase().includes(a.toLowerCase())||s.employee_name.toLowerCase().includes(a.toLowerCase()),h=l==="all"||s.transaction_type===l,g=d==="all"||s.currency_type===d;return m&&h&&g});return e.jsxs(b,{title:`كشف حساب العميل: ${t.name}`,children:[r.success&&e.jsx("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:r.success}),r.error&&e.jsx("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:r.error}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"بيانات العميل"}),e.jsx(j,{href:"/admin/customers",className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"العودة للعملاء"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"رمز العميل"}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:t.customer_code})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"اسم العميل"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.name})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"رقم الهاتف"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:t.phone})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"الحالة"}),e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${t.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.is_active?"نشط":"معطل"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-3",children:"الرصيد الافتتاحي"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-blue-600",children:"دينار:"}),e.jsxs("span",{className:"font-bold text-blue-900",children:[t.iqd_opening_balance.toLocaleString()," د.ع"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-blue-600",children:"دولار:"}),e.jsxs("span",{className:"font-bold text-blue-900",children:["$",t.usd_opening_balance.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-200",children:[e.jsx("h3",{className:"text-sm font-medium text-green-800 mb-3",children:"إجمالي المستلم"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-green-600",children:"دينار:"}),e.jsxs("span",{className:"font-bold text-green-900",children:[t.total_received.iqd.toLocaleString()," د.ع"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-green-600",children:"دولار:"}),e.jsxs("span",{className:"font-bold text-green-900",children:["$",t.total_received.usd.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border border-red-200",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800 mb-3",children:"إجمالي المسلم"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-red-600",children:"دينار:"}),e.jsxs("span",{className:"font-bold text-red-900",children:[t.total_delivered.iqd.toLocaleString()," د.ع"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-red-600",children:"دولار:"}),e.jsxs("span",{className:"font-bold text-red-900",children:["$",t.total_delivered.usd.toLocaleString()]})]})]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 border border-purple-200",children:[e.jsx("h3",{className:"text-sm font-medium text-purple-800 mb-3",children:"الرصيد المتبقي"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-purple-600",children:"دينار:"}),e.jsxs("span",{className:`font-bold ${t.remaining_balance.iqd>=0?"text-purple-900":"text-red-700"}`,children:[t.remaining_balance.iqd.toLocaleString()," د.ع"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm text-purple-600",children:"دولار:"}),e.jsxs("span",{className:`font-bold ${t.remaining_balance.usd>=0?"text-purple-900":"text-red-700"}`,children:["$",t.remaining_balance.usd.toLocaleString()]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-purple-600 text-white p-4",children:e.jsx("h3",{className:"text-lg font-bold",children:"كشف حساب المعاملات"})}),e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gray-50",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{children:e.jsx("input",{type:"text",placeholder:"البحث في المعاملات...",value:a,onChange:s=>x(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-right"})}),e.jsx("div",{children:e.jsxs("select",{value:l,onChange:s=>o(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-right",children:[e.jsx("option",{value:"all",children:"جميع الأنواع"}),e.jsx("option",{value:"received",children:"مستلم"}),e.jsx("option",{value:"delivered",children:"مسلم"})]})}),e.jsx("div",{children:e.jsxs("select",{value:d,onChange:s=>p(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-right",children:[e.jsx("option",{value:"all",children:"جميع العملات"}),e.jsx("option",{value:"iqd",children:"دينار عراقي"}),e.jsx("option",{value:"usd",children:"دولار أمريكي"})]})}),e.jsxs("div",{className:"text-sm text-gray-600 flex items-center",children:["إجمالي المعاملات: ",i.length]})]})}),i.length>0?e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"رقم المعاملة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"النوع"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"العملة"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"المبلغ"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الوصف"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"الموظف"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"التاريخ"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:s.transaction_code}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${s.transaction_type==="received"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.transaction_type_text})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.currency_type_text}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-bold text-gray-900",children:[s.amount.toLocaleString()," ",s.currency_type==="iqd"?"د.ع":"$"]}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs truncate",children:s.description||"-"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.employee_name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:s.transaction_date})]},s.id))})]})}):e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-gray-500",children:"لا توجد معاملات للعميل"})})]})]})]})}export{v as default};
