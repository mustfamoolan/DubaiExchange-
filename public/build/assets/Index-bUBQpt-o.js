import{u as N,r as v,a as m,j as e,H as w}from"./app-CI5XgU0A.js";import{A as _}from"./AdminLayout-Bst1SuSD.js";/* empty css            */function q(){const{treasury:t,todayStats:D,recentMovements:k}=N().props,[n,o]=v.useState("overview"),s=m({naqa:"",rafidain:"",rashid:"",zain_cash:"",super_key:"",usd_cash:"",source_description:"",notes:""}),l=m({exchange_rate:t?.current_exchange_rate||"1400"}),u=a=>{a.preventDefault(),s.post("/admin/treasury/add-funds",{onSuccess:()=>{s.reset(),o("overview")}})},g=a=>{a.preventDefault(),l.post("/admin/treasury/exchange-rate",{onSuccess:()=>{l.reset()}})},r=a=>new Intl.NumberFormat("ar-IQ",{style:"currency",currency:"IQD",minimumFractionDigits:0,maximumFractionDigits:0}).format(a||0),c=a=>new Intl.NumberFormat("ar-IQ").format(a||0),d=(()=>{const a=parseFloat(s.data.naqa)||0,h=parseFloat(s.data.rafidain)||0,b=parseFloat(s.data.rashid)||0,p=parseFloat(s.data.zain_cash)||0,j=parseFloat(s.data.super_key)||0,i=parseFloat(s.data.usd_cash)||0,x=a+h+b+p+j,y=parseFloat(t?.current_exchange_rate)||1400,f=x+i*y;return{totalIQD:x,totalUSD:i,grandTotal:f}})();return e.jsxs(_,{children:[e.jsx(w,{title:"الخزنة الرئيسية - إضافة أموال"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"الخزنة الرئيسية"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg font-medium ${n==="overview"?"bg-blue-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>o("overview"),children:"نظرة عامة"}),e.jsx("button",{type:"button",className:`px-4 py-2 rounded-lg font-medium ${n==="add-funds"?"bg-green-500 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,onClick:()=>o("add-funds"),children:"إضافة مبالغ"})]})]}),n==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"الإجمالي العام"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r(t?.grand_total)})]}),e.jsx("div",{className:"text-3xl",children:"💰"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"الدولار النقدي"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",c(t?.usd_cash_balance)]})]}),e.jsx("div",{className:"text-3xl",children:"💵"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"سعر الصرف"}),e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:c(t?.current_exchange_rate)})]}),e.jsx("div",{className:"text-3xl",children:"💱"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"تاريخ اليوم"}),e.jsx("p",{className:"text-lg font-bold text-gray-900",children:new Date().toLocaleDateString("ar-IQ")})]}),e.jsx("div",{className:"text-3xl",children:"📅"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border",children:[e.jsx("div",{className:"px-6 py-4 border-b",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"تفاصيل الأرصدة"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"النقد"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r(t?.naqa_balance)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"مصرف الرافدين"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r(t?.rafidain_balance)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"مصرف الرشيد"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r(t?.rashid_balance)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"زين كاش"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r(t?.zain_cash_balance)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"سوبر كي"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:r(t?.super_key_balance)})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-600 mb-2",children:"الدولار النقدي"}),e.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",c(t?.usd_cash_balance)]})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md border",children:[e.jsx("div",{className:"px-6 py-4 border-b",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"تحديث سعر الصرف"})}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:g,className:"flex gap-4 items-end",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"سعر الصرف (د.ع مقابل $1)"}),e.jsx("input",{type:"number",step:"0.01",value:l.data.exchange_rate,onChange:a=>l.setData("exchange_rate",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),e.jsx("button",{type:"submit",disabled:l.processing,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50",children:l.processing?"جاري التحديث...":"تحديث"})]})})]})]}),n==="add-funds"&&e.jsxs("div",{className:"bg-white rounded-lg shadow-md border",children:[e.jsxs("div",{className:"px-6 py-4 border-b bg-green-50",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"إضافة مبالغ للخزنة الرئيسية"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"أضف الأموال إلى الخزنة الرئيسية من مصادر مختلفة"})]}),e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:u,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"النقد (د.ع)"}),e.jsx("input",{type:"number",step:"0.01",value:s.data.naqa,onChange:a=>s.setData("naqa",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"مصرف الرافدين (د.ع)"}),e.jsx("input",{type:"number",step:"0.01",value:s.data.rafidain,onChange:a=>s.setData("rafidain",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"مصرف الرشيد (د.ع)"}),e.jsx("input",{type:"number",step:"0.01",value:s.data.rashid,onChange:a=>s.setData("rashid",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"زين كاش (د.ع)"}),e.jsx("input",{type:"number",step:"0.01",value:s.data.zain_cash,onChange:a=>s.setData("zain_cash",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"سوبر كي (د.ع)"}),e.jsx("input",{type:"number",step:"0.01",value:s.data.super_key,onChange:a=>s.setData("super_key",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"الدولار النقدي ($)"}),e.jsx("input",{type:"number",step:"0.01",value:s.data.usd_cash,onChange:a=>s.setData("usd_cash",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"0.00"})]})]}),(d.totalIQD>0||d.totalUSD>0)&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h4",{className:"text-sm font-medium text-blue-800 mb-2",children:"إجمالي المبالغ المدخلة:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600",children:"إجمالي الدينار العراقي: "}),e.jsx("span",{className:"font-bold",children:r(d.totalIQD)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600",children:"إجمالي الدولار: "}),e.jsxs("span",{className:"font-bold",children:["$",c(d.totalUSD)]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-blue-600",children:"الإجمالي العام: "}),e.jsx("span",{className:"font-bold text-lg",children:r(d.grandTotal)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["مصدر الأموال ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:s.data.source_description,onChange:a=>s.setData("source_description",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"مثال: إيداع نقدي، تحويل بنكي، أرباح سابقة، إلخ",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ملاحظات"}),e.jsx("textarea",{value:s.data.notes,onChange:a=>s.setData("notes",a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500",placeholder:"ملاحظات إضافية أو تفاصيل أخرى",rows:"3"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:()=>s.reset(),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"مسح الحقول"}),e.jsx("button",{type:"submit",disabled:s.processing,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:s.processing?"جاري الإضافة...":"💰 إضافة المبالغ للخزنة"})]})]})})]})]})]})}export{q as default};
