import{u as j,r as n,j as e,L as u}from"./app-BJ0Wl0JO.js";import{E as b}from"./EmployeeLayout-Bv6LMEmx.js";/* empty css            */function f({customer:l,transactions:c}){const{flash:d}=j().props,[r,x]=n.useState(""),[t,o]=n.useState("all"),[a,m]=n.useState("all"),i=c.filter(s=>{const h=s.description.toLowerCase().includes(r.toLowerCase())||s.transaction_code.toLowerCase().includes(r.toLowerCase())||s.notes?.toLowerCase().includes(r.toLowerCase())||s.employee_name.toLowerCase().includes(r.toLowerCase()),g=t==="all"||t==="received"&&s.transaction_type==="received"||t==="delivered"&&s.transaction_type==="delivered",p=a==="all"||s.currency_type===a;return h&&g&&p});return e.jsxs(b,{title:`كشف حساب العميل: ${l.name}`,children:[d.success&&e.jsx("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded",children:d.success}),d.error&&e.jsx("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:d.error}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(u,{href:"/employee/customers",className:"flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-semibold rounded-lg transition-colors duration-200 shadow-md",children:[e.jsx("span",{children:"←"}),"العودة لقائمة العملاء"]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"معلومات العميل"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"الاسم:"})," ",l.name]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"رمز العميل:"})," ",e.jsx("span",{className:"text-blue-600 font-bold",children:l.customer_code})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"الهاتف:"})," ",l.phone]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"تاريخ التسجيل:"})," ",l.created_at]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"الرصيد الافتتاحي"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"دينار عراقي:"})," ",l.iqd_opening_balance.toLocaleString()]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"دولار أمريكي:"})," ",l.usd_opening_balance.toLocaleString()]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"الرصيد الحالي"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:`font-bold ${l.current_iqd_balance>=0?"text-green-600":"text-red-600"}`,children:[e.jsx("span",{className:"font-medium text-gray-700",children:"دينار عراقي:"})," ",l.current_iqd_balance.toLocaleString()]}),e.jsxs("p",{className:`font-bold ${l.current_usd_balance>=0?"text-green-600":"text-red-600"}`,children:[e.jsx("span",{className:"font-medium text-gray-700",children:"دولار أمريكي:"})," ",l.current_usd_balance.toLocaleString()]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"الحالة"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"الحالة:"}),e.jsx("span",{className:`ml-2 px-2 py-1 text-xs font-semibold rounded-full ${l.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.is_active?"نشط":"معطل"})]}),e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"عدد المعاملات:"})," ",c.length]})]})]})]}),l.notes&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"font-medium text-gray-700 mb-1",children:"ملاحظات:"}),e.jsx("p",{className:"text-gray-600 text-sm",children:l.notes})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"البحث"}),e.jsx("input",{type:"text",placeholder:"البحث في المعاملات...",value:r,onChange:s=>x(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-right"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"نوع المعاملة"}),e.jsxs("select",{value:t,onChange:s=>o(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-right",children:[e.jsx("option",{value:"all",children:"جميع المعاملات"}),e.jsx("option",{value:"received",children:"استلام"}),e.jsx("option",{value:"delivered",children:"تسليم"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"نوع العملة"}),e.jsxs("select",{value:a,onChange:s=>m(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent text-right",children:[e.jsx("option",{value:"all",children:"جميع العملات"}),e.jsx("option",{value:"iqd",children:"دينار عراقي"}),e.jsx("option",{value:"usd",children:"دولار أمريكي"})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsx("button",{onClick:()=>{x(""),o("all"),m("all")},className:"w-full bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors duration-200",children:"إعادة تعيين"})})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"hidden lg:block",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4",children:e.jsxs("div",{className:"grid grid-cols-9 gap-4 text-center font-semibold text-sm",children:[e.jsx("div",{children:"رقم المعاملة"}),e.jsx("div",{children:"النوع"}),e.jsx("div",{children:"العملة"}),e.jsx("div",{children:"المبلغ"}),e.jsx("div",{children:"سعر الصرف"}),e.jsx("div",{children:"الوصف"}),e.jsx("div",{children:"الموظف"}),e.jsx("div",{children:"التاريخ"}),e.jsx("div",{children:"ملاحظات"})]})}),e.jsx("div",{className:"divide-y divide-gray-200",children:i.map(s=>e.jsx("div",{className:"p-4 hover:bg-blue-50 transition-colors",children:e.jsxs("div",{className:"grid grid-cols-9 gap-4 items-center text-sm",children:[e.jsx("div",{className:"text-center",children:e.jsx("span",{className:"text-blue-600 font-bold",children:s.transaction_code})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s.transaction_type==="received"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.transaction_type_text})}),e.jsx("div",{className:"text-center",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s.currency_type==="iqd"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:s.currency_type_text})}),e.jsx("div",{className:"text-center font-bold",children:s.amount.toLocaleString()}),e.jsx("div",{className:"text-center",children:s.exchange_rate||"-"}),e.jsx("div",{className:"text-right",children:s.description}),e.jsx("div",{className:"text-center",children:s.employee_name}),e.jsx("div",{className:"text-center text-gray-600",children:s.transaction_date}),e.jsx("div",{className:"text-right text-gray-600 text-xs",children:s.notes||"-"})]})},s.id))})]}),e.jsxs("div",{className:"lg:hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 text-white p-4 text-center",children:e.jsx("h3",{className:"font-bold",children:"تاريخ المعاملات"})}),i.map(s=>e.jsxs("div",{className:"p-4 space-y-3 hover:bg-blue-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-blue-600 font-bold text-sm",children:s.transaction_code}),e.jsx("div",{className:"text-gray-900 font-medium",children:s.description}),e.jsxs("div",{className:"text-gray-500 text-sm",children:["الموظف: ",s.employee_name]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold",children:s.amount.toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-500",children:s.transaction_date})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s.transaction_type==="received"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.transaction_type_text}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${s.currency_type==="iqd"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:s.currency_type_text}),s.exchange_rate&&e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-semibold bg-gray-100 text-gray-800",children:["سعر الصرف: ",s.exchange_rate]})]}),s.notes&&e.jsx("div",{className:"pt-2 border-t border-gray-100",children:e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"ملاحظات:"})," ",s.notes]})})]},s.id))]}),i.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"لا توجد معاملات"}),e.jsx("p",{className:"text-gray-500",children:"لا توجد معاملات تطابق معايير البحث المحددة."})]})]})]})]})}export{f as default};
